# Mock upstream server for testing without real Datadog
# Accepts any request and returns 202 Accepted

server {
    listen 80;
    server_name _;

    # Log all requests for debugging
    access_log /dev/stdout;
    error_log /dev/stderr;

    # Accept all paths
    location / {
        # Log request body
        client_body_buffer_size 10M;
        client_max_body_size 10M;

        # Return 202 Accepted (what Datadog returns on success)
        return 202 '{"status":"ok"}';
        add_header Content-Type application/json;
    }
}
