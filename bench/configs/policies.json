{
  "policies": [
    {
      "id": "drop-debug-logs",
      "name": "Drop debug level logs",
      "matchers": [
        { "field": "log_severity_text", "pattern": "DEBUG" },
        { "field": "log_severity_text", "pattern": "debug" }
      ],
      "keep": "none"
    },
    {
      "id": "drop-health-checks",
      "name": "Drop health check logs",
      "matchers": [
        { "field": "log_body", "pattern": "/health" },
        { "field": "log_body", "pattern": "/ready" },
        { "field": "log_body", "pattern": "/live" }
      ],
      "keep": "none"
    },
    {
      "id": "keep-errors",
      "name": "Keep error logs",
      "matchers": [
        { "field": "log_severity_text", "pattern": "ERROR" },
        { "field": "log_severity_text", "pattern": "error" },
        { "field": "log_severity_text", "pattern": "FATAL" }
      ],
      "keep": "all"
    },
    {
      "id": "drop-database-queries",
      "name": "Drop database query logs (matches 1 log in large payloads)",
      "matchers": [
        { "field": "log_body", "pattern": "Database query executed" }
      ],
      "keep": "none"
    },
    {
      "id": "drop-first-entry",
      "name": "Drop first log entry (matches 1 log in 1MB payloads)",
      "matchers": [{ "field": "log_body", "pattern": "Log entry 0:" }],
      "keep": "none"
    }
  ]
}
